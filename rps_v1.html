<DOCTYPE=html>

<button id="rock"> ROCK </button>
<button id="paper"> PAPER </button>
<button id="scissors"> SCISSORS </button>

<div class="result"></div>

<div class="running-totals"></div>

<script type="text/javascript">
let playerWins = 0;
let computerWins = 0;

  const totals = document.querySelector(".running-totals");
const result = document.querySelector('.result');
const buttons = document.querySelectorAll('button');

buttons.forEach((button) => {
  button.addEventListener('click',() => {
  updateResult(rps(button.id, computerPlay()));
  });
});

const computerPlay = () => {
let compChoice = Math.floor(Math.random() * 3) + 1;
return compChoice == 1 ? "rock"
      : compChoice == 2 ? "paper"
      : compChoice == 3 ? "scissors"
      : "error";
}
const updateResult = upd8 => {
  if(upd8.indexOf("You win") != -1) {playerWins++}
  if(upd8.indexOf("You lose") != -1) {computerWins++}
totals.textContent = "Player wins: " + playerWins + " | Computer wins: " + computerWins;
if(playerWins == 5 || computerWins == 5 ) {
result.textContent = "Game Over! Final score: Player: " + playerWins + " | Computer: " + computerWins;
playerWins = 0;
computerWins = 0;
}
}

function rps(playerSelection, computerSelection) {
  console.log("Player selection was: " + playerSelection);
  console.log("Computer selection was: " + computerSelection);
  result.textContent = "Player selection: " + playerSelection + " | Computer selection: " + computerSelection;

if(playerSelection == "rock"){
  switch(computerSelection){
    case "paper":
     return "You lose, paper beats rock.";
    break;

    case "scissors":
  return "You win, rock beats scissors.";
    break;

    default:
    return "Draw game."
    }
}
else if(playerSelection == "paper"){
  switch(computerSelection){
  case "scissors":
   return "You lose, scissors beats paper.";
  break;

  case "rock":
   return "You win, paper covers rock.";
  break;

  default:
  return "Draw game."
  }
}
else if(playerSelection == "scissors"){
  switch(computerSelection){
  case "rock":
  return "You lose, rock beats scissors.";
  break;

  case "paper":
   return "You win, scissors beats paper.";
  break;

  default:
  return "Draw game."
  }
}

}

</script>

</html>
